# –û–¢–ß–ï–¢ –û –†–ê–ë–û–¢–ï –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù–ù–û–ì–û –ê–ù–ê–õ–ò–ó–ê–¢–û–†–ê –ê–í–¢–û–ú–û–ë–ò–õ–ï–ô

## üéØ –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:
- `database.py` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- `nlp_processor.py` - –¥–ª—è NLP –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `intelligent_query_processor.py` - –¥–ª—è —É–º–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- `modules/classifiers/query_processor.py` - –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- `modules/classifiers/ner_intent_classifier.py` - –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π
- `yandex_car_research_with_db.py` - –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ YandexGPT

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### **–¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**
1. **BMW X5** - ‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
2. **Mercedes C-Class** - ‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω  
3. **Toyota Camry —Å –ª—é–∫—Å-–∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–µ–π** - ‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
4. **Audi A4 —Å –ø–æ–¥–æ–≥—Ä–µ–≤–æ–º —Å–∏–¥–µ–Ω–∏–π** - ‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
5. **–Ω–∞–π–¥–∏ –≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫ –¥–æ 2 –º–∏–ª–ª–∏–æ–Ω–æ–≤** - ‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω

### **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- **–£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ:** 5/5 –∑–∞–ø—Ä–æ—Å–æ–≤ (100%)
- **–û—à–∏–±–æ–∫:** 0
- **–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** 9.13 —Å–µ–∫—É–Ω–¥
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã:** `integrated_car_analyzer_results_20250731_220916.json`

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**

#### 1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–∞—Ä–∫–∏ –∏ –º–æ–¥–µ–ª–∏**
```python
def extract_brand_model_advanced(self, query: str):
    # NLP –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
    nlp_result = self.nlp_processor.process_query(query)
    
    # NER –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä  
    ner_entities = self.ner_classifier.extract_entities(query)
    
    # YandexGPT –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å
    yandex_brand, yandex_model = self.yandex_researcher.extract_brand_model_simple(query)
    
    # –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    final_brand = ner_brand or nlp_brand or yandex_brand
    final_model = ner_model or nlp_model or yandex_model
```

#### 2. **–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
```python
def get_comprehensive_car_data(self, brand: str, model: str, query: str):
    # –ü–æ–∏—Å–∫ –≤ –ë–î
    cars = search_all_cars(brand=brand, model=model, limit=50)
    
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –∏ –æ–ø—Ü–∏–π
    for car in cars:
        car_with_options = get_car_with_options(car_id)
        car_options = get_car_options_by_car_id(car_id)
```

#### 3. **–ê–Ω–∞–ª–∏–∑ –Ω–∞–º–µ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞**
```python
def analyze_query_intent(self, query: str):
    # NER –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä
    ner_entities = self.ner_classifier.extract_entities(query)
    ner_intent = self.ner_classifier.classify_intent(query)
    
    # –£–º–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤
    iqp_result = self.iqp.process_query(query)
```

#### 4. **–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ YandexGPT**
```python
def send_to_yandex_gpt(self, query: str, car_data: Dict, intent_analysis: Dict):
    # –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
    prompt = self.create_yandex_gpt_prompt(query, context)
    
    # –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å
    yandex_result = self.yandex_researcher.research_car_with_db(query)
```

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### **BMW X5:**
- **–ò–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è –º–∞—Ä–∫–∞:** BMW
- **–ò–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å:** X5
- **–ù–∞–π–¥–µ–Ω–æ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π:** 7
- **–ù–∞–º–µ—Ä–µ–Ω–∏–µ:** search
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** 8.45 —Å–µ–∫

### **Audi A4 —Å –ø–æ–¥–æ–≥—Ä–µ–≤–æ–º —Å–∏–¥–µ–Ω–∏–π:**
- **–ò–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è –º–∞—Ä–∫–∞:** Audi
- **–ò–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å:** A4
- **–ù–∞–π–¥–µ–Ω–æ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π:** 4
- **–ù–∞–º–µ—Ä–µ–Ω–∏–µ:** general
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** 9.51 —Å–µ–∫

### **Toyota Camry —Å –ª—é–∫—Å-–∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–µ–π:**
- **–ò–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è –º–∞—Ä–∫–∞:** Toyota
- **–ò–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å:** Camry
- **–ù–∞–π–¥–µ–Ω–æ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π:** 7
- **–ù–∞–º–µ—Ä–µ–Ω–∏–µ:** car_option
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** 9.18 —Å–µ–∫

## üîç –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### **1. –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–∞—Ä–∫–∏/–º–æ–¥–µ–ª–∏**
- **NLP –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–Ω–æ–Ω–∏–º—ã –∏ –ø–∞–¥–µ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞—Ü–∏–∏
- **NER –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç fuzzy matching
- **YandexGPT –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **–ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: NER > NLP > YandexGPT

### **2. –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö**
- **–ü–æ–∏—Å–∫ –≤ –ë–î** - —á–µ—Ä–µ–∑ `search_all_cars()`
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—Ü–∏–π** - —á–µ—Ä–µ–∑ `get_car_with_options()`
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - —Ü–µ–Ω—ã, –≥–æ–¥—ã, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è** - –¥–ª—è –ø–µ—Ä–≤—ã—Ö 10 –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π

### **3. –ê–Ω–∞–ª–∏–∑ –Ω–∞–º–µ—Ä–µ–Ω–∏–π**
- **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** - —á–µ—Ä–µ–∑ NER –∏ IQP
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã** - search > compare > recommend > details
- **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å** - –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

### **4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YandexGPT**
- **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞** - —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ –¥–∞–Ω–Ω—ã–º–∏
- **–û—Ç–ø—Ä–∞–≤–∫–∞** - —á–µ—Ä–µ–∑ `research_car_with_db()`
- **–û–±–æ–≥–∞—â–µ–Ω–∏–µ** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã

### **1. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã

### **2. –¢–æ—á–Ω–æ—Å—Ç—å**
- –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### **3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

### **4. –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —É—Å–ø–µ—à–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

1. **–ù–∞–¥–µ–∂–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ** –º–∞—Ä–∫–∏ –∏ –º–æ–¥–µ–ª–∏ –∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤
2. **–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–æ–∏—Å–∫** –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ –≤–∫–ª—é—á–∞—è –æ–ø—Ü–∏–∏
3. **–£–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑** –Ω–∞–º–µ—Ä–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å YandexGPT** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç—á–µ—Ç–æ–≤

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –Ω–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. 