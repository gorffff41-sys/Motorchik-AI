# –ü–∞—Ä—Å–µ—Ä –º–∞—Ä–æ–∫ –∏ –º–æ–¥–µ–ª–µ–π –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å auto.mail.ru

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø–∞—Ä—Å–µ—Ä –∏–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Å–µ –º–∞—Ä–∫–∏ –∏ –º–æ–¥–µ–ª–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å —Å–∞–π—Ç–∞ [auto.mail.ru](https://auto.mail.ru/catalog/). –ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ö–æ–¥–∏—Ç –∫–∞—Ç–∞–ª–æ–≥, –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–∞—Ä–∫–∏ –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –º–æ–¥–µ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –º–∞—Ä–∫–∏.

## –§–∞–π–ª—ã

- `auto_mail_parser_final.py` - –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- `run_full_parser.py` - –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Å–µ—Ö –º–∞—Ä–æ–∫
- `auto_mail_brands_models.json` - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –ß—Ç–æ —É–º–µ–µ—Ç –ø–∞—Ä—Å–µ—Ä:

1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö –º–∞—Ä–æ–∫** –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ auto.mail.ru
2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π** –¥–ª—è –∫–∞–∂–¥–æ–π –º–∞—Ä–∫–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
3. **–£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - —É–±–∏—Ä–∞–µ—Ç –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. **–û—á–∏—Å—Ç–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–π** - —É–¥–∞–ª—è–µ—Ç –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã –∏ —Å–ª–æ–≤–∞
5. **–ü–æ–∏—Å–∫ –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º** - –Ω–∞—Ö–æ–¥–∏—Ç –º–æ–¥–µ–ª–∏ –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º
6. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** –≤ JSON –∏ –≤—ã–≤–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª
7. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Python —Å–ª–æ–≤–∞—Ä—è** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ

### üîç –ú–µ—Ç–æ–¥—ã –ø–æ–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π:

1. **–ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü** (h1, h2, h3, h4)
2. **–°—Å—ã–ª–∫–∏ –Ω–∞ –º–æ–¥–µ–ª–∏** –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
3. **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è** –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:
   - `X3`, `A4`, `320d` - –±—É–∫–≤–∞ + —Ü–∏—Ñ—Ä—ã
   - `E-Class`, `S-Class` - —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è
   - `Camry`, `Corolla` - –Ω–∞–∑–≤–∞–Ω–∏—è —Å –±—É–∫–≤–∞–º–∏
   - `CS75`, `CS95` - –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã —Å —Ü–∏—Ñ—Ä–∞–º–∏
4. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏** —Å –∫–ª–∞—Å—Å–∞–º–∏ model/car/vehicle

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (–æ–¥–Ω–∞ –º–∞—Ä–∫–∞)

```bash
python auto_mail_parser_final.py
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –ø–∞—Ä—Å–∏–Ω–≥ —Ç–æ–ª—å–∫–æ –º–∞—Ä–∫–∏ Changan –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### 2. –ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö –º–∞—Ä–æ–∫

```bash
python run_full_parser.py
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–∞—Ä–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ 10 –º–∞—Ä–∫–∞–º–∏).

### 3. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from auto_mail_parser_final import FinalAutoMailParser

# –°–æ–∑–¥–∞–µ–º –ø–∞—Ä—Å–µ—Ä
parser = FinalAutoMailParser()

# –ü–∞—Ä—Å–∏–º –æ–¥–Ω—É –º–∞—Ä–∫—É
results = parser.test_single_brand("BMW")

# –ü–∞—Ä—Å–∏–º –≤—Å–µ –º–∞—Ä–∫–∏
results = parser.run(test_mode=False, max_brands=5)
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –í—ã–≤–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª

–ü–∞—Ä—Å–µ—Ä –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

```
================================================================================
–†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–ê–†–°–ò–ù–ì–ê AUTO.MAIL.RU
================================================================================
–í—Å–µ–≥–æ –º–∞—Ä–æ–∫: 1
–í—Å–µ–≥–æ –º–æ–¥–µ–ª–µ–π: 98

--------------------------------------------------------------------------------

–ú–ê–†–ö–ê: Changan
URL: https://auto.mail.ru/catalog/changan/
Slug: changan
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π: 98
–ú–æ–¥–µ–ª–∏:
   1. VK
   2. CM
   3. V71
   4. Uni
   5. CC3
   6. Eado
   7. CS75
   8. CS95
   ...
```

### Python —Å–ª–æ–≤–∞—Ä—å

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≥–æ—Ç–æ–≤—ã–π —Å–ª–æ–≤–∞—Ä—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ:

```python
MARKS_MODELS = {
    'changan': ['VK', 'CM', 'V71', 'Uni', 'CC3', 'Eado', 'CS75', 'CS95', ...],
    'bmw': ['X1', 'X3', 'X5', '320d', '520d', 'M3', ...],
    'audi': ['A3', 'A4', 'A6', 'Q3', 'Q5', 'Q7', ...],
    ...
}
```

### JSON —Ñ–∞–π–ª

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª `auto_mail_brands_models.json`:

```json
{
  "Changan": {
    "url": "https://auto.mail.ru/catalog/changan/",
    "slug": "changan",
    "models": ["VK", "CM", "V71", "Uni", "CC3", "Eado", "CS75", "CS95", ...],
    "models_detailed": [...]
  }
}
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∞—Ä–æ–∫

```python
# –ü–∞—Ä—Å–∏–º —Ç–æ–ª—å–∫–æ 5 –º–∞—Ä–æ–∫
results = parser.run(test_mode=False, max_brands=5)

# –ü–∞—Ä—Å–∏–º –≤—Å–µ –º–∞—Ä–∫–∏
results = parser.run(test_mode=False, max_brands=None)
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

–í –∫–æ–¥–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏:

```python
# –í –º–µ—Ç–æ–¥–µ parse_all_brands_and_models
time.sleep(2)  # –ó–∞–¥–µ—Ä–∂–∫–∞ 2 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π

–í –º–µ—Ç–æ–¥–µ `is_valid_model()` –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é:

```python
def is_valid_model(self, model_name):
    # –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    invalid_words = ['–Ω–æ–≤–æ—Å—Ç–∏', '—Å—Ç–∞—Ç—å–∏', ...]
    # ...
```

## –ü—Ä–∏–º–µ—Ä—ã –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

### Changan
- `CS75`, `CS95`, `Uni-V`, `Uni-K`, `Uni-T`
- `Alsvin V7`, `Eado`, `Hunter`, `Raeton`
- `Deepal G318`, `Lamore`, `Linmax`

### BMW (–æ–∂–∏–¥–∞–µ–º—ã–µ)
- `X1`, `X3`, `X5`, `X6`, `X7`
- `320d`, `520d`, `M3`, `M5`
- `1 Series`, `3 Series`, `5 Series`

### Audi (–æ–∂–∏–¥–∞–µ–º—ã–µ)
- `A3`, `A4`, `A6`, `A8`
- `Q3`, `Q5`, `Q7`, `Q8`
- `RS3`, `RS4`, `S3`, `S4`

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

```bash
pip install requests beautifulsoup4
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–∞—Ä—Å–µ—Ä –≤–µ–¥–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:

```
2025-07-31 10:15:24,035 - INFO - –ó–∞–ø—É—Å–∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞ auto.mail.ru
2025-07-31 10:15:24,035 - INFO - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –º–∞—Ä–∫–∏: Changan
2025-07-31 10:15:24,035 - INFO - –ü–∞—Ä—Å–∏–Ω–≥ –æ–¥–Ω–æ–π –º–∞—Ä–∫–∏: Changan
2025-07-31 10:15:24,035 - INFO - –ò–∑–≤–ª–µ–∫–∞—é –º–æ–¥–µ–ª–∏ –¥–ª—è –º–∞—Ä–∫–∏: Changan
2025-07-31 10:15:24,035 - INFO - –ó–∞–≥—Ä—É–∂–∞—é —Å—Ç—Ä–∞–Ω–∏—Ü—É: https://auto.mail.ru/catalog/changan/
2025-07-31 10:15:24,289 - INFO - –ù–∞–π–¥–µ–Ω–æ –º–æ–¥–µ–ª–µ–π –¥–ª—è Changan: 98
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–£–≤–∞–∂–∞–π—Ç–µ —Å–∞–π—Ç** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑—É–º–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
2. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞** - –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º –ø–µ—Ä–µ–¥ –ø–æ–ª–Ω—ã–º –ø–∞—Ä—Å–∏–Ω–≥–æ–º
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - –Ω–µ –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏
4. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ** - —Å–∞–π—Ç –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```
requests.RequestException: Connection timeout
```
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –£–≤–µ–ª–∏—á—å—Ç–µ timeout –≤ –∫–æ–¥–µ

### –ü—É—Å—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```
–ù–∞–π–¥–µ–Ω–æ –º–æ–¥–µ–ª–µ–π: 0
```
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
- –í–æ–∑–º–æ–∂–Ω–æ, –∏–∑–º–µ–Ω–∏–ª–∞—Å—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ä–æ–∫ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ 